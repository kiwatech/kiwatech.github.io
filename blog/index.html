<html>

<head>
    <style>
        div.container {
            width 70vw;
        }
        iframe {
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
    <div class="container" id="posts-container">

    </div>

    <script>
        let posts = [];

        const fetchPosts = () => {
            fetch(`./posts/${posts.length.toString().padStart(4, 0)}.html`)
            .then(res => {
                if (res.status != 200) throw res.status;
                posts.push(`<iframe class="post" href="./posts/${posts.length.toString().padStart(4, 0)}"></iframe>`);
                fetchPosts();
            }).catch(err => {
                document.getElementById('posts-container').innerHTML = posts.join('\n');
            });
        }
        fetchPosts();
    </script>
</body>

</html>