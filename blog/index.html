<html>

<head>
</head>

<body>
    <div class="container" id="posts-container">

    </div>

    <script>
        let posts = [];

        const syncWhile = (more) => {
            if (more) {
                fetch(`./posts/${posts.length.toString().padStart(4, 0)}.html`)
                .then(res => res.text())
                .then(html => {
                    posts.push('<div class="post">' + html + '</div>');
                    syncWhile(more);
                }).catch(err => {
                    document.getElementById('posts-container').innerHTML = posts.join('\n');
                });
            }
        }
        syncWhile(true);
    </script>
</body>

</html>